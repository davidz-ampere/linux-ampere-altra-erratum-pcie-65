From 9dac894456f679bacbdd519bd7a676efc8c65c57 Mon Sep 17 00:00:00 2001
From: Huang Shijie <shijie@os.amperecomputing.com>
Date: Fri, 28 Jul 2023 15:37:35 +0800
Subject: [PATCH 10/10] arm64: pcie-wc: fix the typo for f8400865

Signed-off-by: Huang Shijie <shijie@os.amperecomputing.com>
---
 arch/arm64/mm/pcie_unalign_access.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/arch/arm64/mm/pcie_unalign_access.c b/arch/arm64/mm/pcie_unalign_access.c
index 639c6a48ddee..66826dfe4e9c 100644
--- a/arch/arm64/mm/pcie_unalign_access.c
+++ b/arch/arm64/mm/pcie_unalign_access.c
@@ -466,7 +466,7 @@ static int ldst_unpri_ldtrsw(struct ldst_filter *f, u32 insn, struct pt_regs *re
 	pt_regs_write_reg(regs, t, data);
 	return 0;
 }
-#define REG_UNPRI_MASK (BIT(31)| BIT(31) | BIT(26) | BIT(22) | BIT(23))
+#define REG_UNPRI_MASK (BIT(31)| BIT(30) | BIT(26) | BIT(22) | BIT(23))
 static const struct ldst_filter ldst_reg_unpri[] = {
 	{
 		.mask		= REG_UNPRI_MASK,
-- 
2.39.3

